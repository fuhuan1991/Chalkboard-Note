{"version":3,"sources":["client.js","util.js","noteManagement/LoginForm.jsx","Notification.js","noteManagement/SignupForm.jsx","noteManagement/NoteForm.jsx","noteManagement/Desktop.jsx","noteManagement/index.jsx","game/Square.jsx","game/Board.tsx","game/Scores.jsx","game/util.ts","game/search.ts","game/auto.ts","game/Game.jsx","main/Main.jsx","serviceWorker.js","index.js","game/config.js"],"names":["checkStatus","response","ok","error","Error","statusText","json","then","e","Promise","reject","getJWTFromCookie","result","document","cookie","match","length","isEmpty","obj","key","hasOwnProperty","tagStyle","color","inputStyle","marginBottom","width","display","LoginForm","props","className","initialValues","name","password","validate","values","errors","onSubmit","user","setSubmitting","url","fetch","method","login","o","onSuccess","catch","err","onFailure","touched","handleChange","handleBlur","handleSubmit","isSubmitting","submitForm","isValid","style","onChange","onBlur","value","placeholder","onClick","OnSitchToSignup","marginRight","type","disabled","openNotificationWithIcon","message","description","notification","successNotification","errorNotification","SignupForm","email","s","test","headers","Headers","body","JSON","stringify","mode","cridentials","signup","finally","OnSitchToLogin","marginLeft","position","left","NoteForm","onDelete","userId","noteId","onCancel","onDeleteSuccess","title","note","updateNote","createNote","top","TextArea","flexDirection","okText","cancelText","onConfirm","Desktop","console","log","fetchAllNotes","getUserNotes","res","noteArray","setState","renderNoteArray","map","note_id","openDetailView","bind","target","getNoteInfoById","state","detailView","targetNote","filter","onAddNewNote","this","notes","visible","footer","closable","wrapClassName","Math","random","onLogout","Component","NoteManagement","onLoginSucc","userInfo","jwt","switchToStage","onLoginFail","onSignupSucc","onSignupFail","nextStage","currentStage","Square","degree","floor","squareStyle","available","chess_pieces","handleClick","transform","React","SIZE","config","size","Board","i","j","currentState","currentAvailabeState","index","row","push","renderSquare","rows","generateSquares","winner","number_of_O","number_of_X","handleModeSelection","gameFinished","generateFinishPopup","initialization","generateInitialPopup","generateRows","Scores","n","klass","r","bottom","xNumber","x_number","oNumber","o_number","height","generateCoin","textAlign","m","getRival","player","dirs","Search","SearchForReversiblePieces","x","y","opponent","finalResult","initialTarget","friendly","dir","reversibles","temp","splice","searchAvailable","noMoreMove","Array","fill","availableState","slice","CaculatePoints","points","X","O","pickLocation","possibleMoves","maxValue","finalMove","atCorner","Infinity","atEdge","pos","Game","single","_single","_initialization","initialBoard","initialCurrentState","_currentState","_currentAvailabeState","initialCurrentAvailabeState","_isForX","_numberO","_numberX","_gameFinished","_doubleMove","board","land","autoMove","nextPlayersMoves","currentToken","tempState","finishOrNot","temp_x","temp_y","isXNext","nextPlayersAvailabeState","doubleMove","currentPlayersMoves","resolve","setTimeout","computerMove","tempAvailabe","status","doubleMovePlayer","theOther","window","move","Fragment","clearBoard","Main","next","carousel","previous","prev","sliderEnter","mouseOverSlide","sliderLeave","createRef","marginTop","fontSize","onMouseEnter","onMouseLeave","ref","node","href","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.2b13332e.chunk.js","sourcesContent":["import fetch from 'unfetch';\n\n// check the status of all sort of response\nconst checkStatus = response => {\n  if (response.ok) {\n    return response;\n  } else {\n      let error = new Error(response.statusText);\n      error.response = response;\n      response.json().then(e => {\n        error.error = e;\n      });\n      return Promise.reject(error);\n    }\n}\n\n// export const getAllStudents = () => fetch('/api/students').then(checkStatus);\n\n// export const addNewStudent = student => fetch('api/students', {\n//   headers: {\n//     'Content-Type': 'application/json'\n//   },\n//   method: 'POST',\n//   body: JSON.stringify(student),\n// }).then(checkStatus);\n\n// login\nexport const login = user => {\n  const {name, password} = user;\n  const url = `/api/users/login?name=${name}&password=${password}`;\n  return fetch(url, {\n    method: 'GET',\n  }).then(checkStatus);\n}\n\n// add a new user\nexport const signup = user => fetch('api/users', {\n  headers: new Headers({\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getJWTFromCookie(),\n  }),\n  method: 'POST',\n  body: JSON.stringify(user),\n  mode: 'cors',\n  cridentials: 'include', \n}).then(checkStatus);\n\n// get all the note of a user\nexport const getUserNotes = userId => fetch(`api/notes/getUserNotes/${userId}`, {\n  method: 'GET'\n}).then(checkStatus);\n\n//update a exsiting note\nexport const updateNote = note => fetch('api/notes', {\n  headers: new Headers({\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getJWTFromCookie(),\n  }),\n  mode: 'cors',\n  cridentials: 'include', \n  method: 'PUT',\n  body: JSON.stringify(note),\n}).then(checkStatus);\n\n// create a new note\nexport const createNote = note => {\n  const userId = note.userId;\n  return fetch(`api/notes/${userId}`, {\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + getJWTFromCookie(),\n    }),\n    mode: 'cors',\n    cridentials: 'include', \n    method: 'POST',\n    body: JSON.stringify(note),\n  }).then(checkStatus);\n}\n\n// delete a exsiting note\nexport const deleteNote = userId => fetch(`api/notes/${userId}`, {\n  method: 'DELETE'\n}).then(checkStatus);\n\nexport const getJWTFromCookie = () => {\n  const result = document.cookie.match(/jwt_token=([^;]*)[;]?/);\n  if (result.length >= 2) {\n    return result[1];\n  } else {\n    return '';\n  }\n}\n","export const isEmpty = (obj) => {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key))\n      return false;\n  }\n  return true;\n}\n\nexport const isEmail = (s) => /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(s);\n\n","import React from 'react';\nimport { Formik } from 'formik';\nimport { Input, Button, Icon } from 'antd';\nimport { login } from '../client.js';\nimport { isEmpty } from '../util.js';\n\nconst tagStyle = { color: '#e2231a'};\nconst inputStyle = { marginBottom: '10px', width: '350px', display: 'block' };\n\nconst LoginForm = (props) => {\n  return (\n    <div>\n      <h1 className='big_title'>Log in</h1>\n      <Formik\n        initialValues={{ \n          name: '',\n          password: '',\n        }}\n        validate={values => {\n          const errors = {};\n\n          if (!values.name) {\n            errors.name = 'name required';\n          }\n\n          if (!values.password) {\n            errors.password = 'password required';\n          }\n\n          return errors;\n        }}\n        onSubmit={(user, { setSubmitting }) => {\n          login(user)\n          .then((o) => { props.onSuccess(o); })\n          .catch(err => { props.onFailure(err); setSubmitting(false);})\n          // .finally(() => { setSubmitting(false); });\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n          submitForm,\n          isValid,\n        }) => (\n          <form onSubmit={handleSubmit}>\n            <span className='chalkboard_font'>name:</span> {errors.name && touched.name && <span style={tagStyle}>{errors.name}</span>}\n            <Input\n              style={inputStyle}\n              name=\"name\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.name}\n              placeholder='please insert user name'\n            />\n            \n            <span className='chalkboard_font'>password:</span> {errors.password && touched.password && <span style={tagStyle}>{errors.password}</span>}\n            <Input\n              style={inputStyle}\n              name=\"password\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.password}\n              placeholder='please insert password'\n            />\n            <div>\n              <Button \n                onClick={() => props.OnSitchToSignup()} \n                style={{marginRight: '10px'}}\n              >\n                <Icon type=\"left\" /> Go to Sign up \n              </Button>\n              <Button \n                onClick={() => submitForm()} \n                type=\"primary\" \n                disabled={isSubmitting || isEmpty(touched) || !isValid}\n              >\n                Login <Icon type=\"right\" />\n              </Button>\n            </div>\n          </form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default LoginForm;","import { notification } from 'antd';\n\nconst openNotificationWithIcon = (type, message, description) => {\n  notification[type]({\n    message,\n    description\n  });\n};\n\nexport const successNotification = (message, description) => \n  openNotificationWithIcon('success', message, description);\n\nexport const infoNotification = (message, description) => \n  openNotificationWithIcon('info', message, description);\n\nexport const warningNotification = (message, description) => \n  openNotificationWithIcon('warning', message, description);\n\nexport const errorNotification = (message, description) => \n  openNotificationWithIcon('error', message, description);\n\n","import React from 'react';\nimport { Formik } from 'formik';\nimport { Input, Button, Icon } from 'antd';\nimport { signup } from '../client.js';\nimport { isEmpty, isEmail } from '../util.js';\n\nconst tagStyle = { color: '#e2231a'};\nconst inputStyle = { marginBottom: '10px', width: '350px', display: 'block' };\n\nconst SignupForm = (props) => {\n  return (\n    <div>\n      <h1 className='big_title'>Sign up</h1>\n      <Formik\n        initialValues={{\n          name: '',\n          password: '',\n          email: '',\n        }}\n        validate={values => {\n          const errors = {};\n\n          if (!values.name) {\n            errors.name = 'name required';\n          } else if (values.name.length > 100) {\n            errors.name = 'name should be shorter than 100 characters'\n          }\n\n          if (!values.password) {\n            errors.password = 'password required';\n          } else if (values.password.length > 20) {\n            errors.password = 'password should be shorter than 20 characters'\n          }\n\n          if (!values.email) {\n            errors.email = 'E-mail required';\n          } else if (!isEmail(values.email)) {\n            errors.email = 'invalid E-mail address';\n          } else if (values.email.length > 100) {\n            errors.email = 'email E-mail should be shorter than 100 characters'\n          }\n\n          return errors;\n        }}\n        onSubmit={(user, { setSubmitting }) => {\n          // console.log(user)\n          signup(user)\n            .then(() => { props.onSuccess(); })\n            .catch(err => { props.onFailure(err); })\n            .finally(() => { setSubmitting(false); });\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n          submitForm,\n          isValid,\n        }) => (\n            <form onSubmit={handleSubmit}>\n              <span className='chalkboard_font'>name:</span> {errors.name && touched.name && <span style={tagStyle}>{errors.name}</span>}\n              <Input\n                style={inputStyle}\n                name=\"name\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.name}\n                placeholder='please insert user name'\n              />\n              <span className='chalkboard_font'>password:</span> {errors.password && touched.password && <span style={tagStyle}>{errors.password}</span>}\n              <Input\n                style={inputStyle}\n                name=\"password\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.password}\n                placeholder='please insert password'\n              />\n              <span className='chalkboard_font'>email:</span> {errors.email && touched.email && <span style={tagStyle}>{errors.email}</span>}\n              <Input\n                style={inputStyle}\n                name=\"email\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.email}\n                placeholder='please insert email'\n              />\n              <div>\n                <Button\n                  onClick={() => props.OnSitchToLogin()}\n                  style={{ marginRight: '10px' }}\n                >\n                  <Icon type=\"left\" />Go to Login \n                </Button>\n                <Button\n                  onClick={() => submitForm()}\n                  type=\"submit\"\n                  disabled={isSubmitting || isEmpty(touched) || !isValid}\n                >\n                  Sign up<Icon type=\"right\" />\n                </Button>\n              </div>\n            </form>\n          )}\n      </Formik> \n    </div>\n  );\n}\n\nexport default SignupForm;","import React from 'react';\nimport { Formik } from 'formik';\nimport { Input, Button, Popconfirm } from 'antd';\nimport { updateNote, createNote, deleteNote } from '../client';\nimport { isEmpty } from '../util.js';\nimport { errorNotification, successNotification } from '../Notification';\n\nconst tagStyle = { \n  color: '#e2231a', \n  marginLeft: '12px',\n  position: 'absolute',\n  left: '27px',\n};\n\n\nconst NoteForm = (props) => {\n\n  const onDelete = () => {\n    deleteNote(props.noteId)\n      .then(() => { \n        props.onCancel();\n        successNotification('Note Deleted');\n        props.onDeleteSuccess();\n      })\n      .catch(err => { errorNotification('Error') })\n  }\n\n  return (\n    <div className='node_form'>\n      <Formik\n        initialValues={{\n          title: props.title,\n          description: props.description,\n        }}\n        validate={values => {\n          const errors = {};\n\n          if (!values.title) {\n            errors.title = 'title required';\n          } else if (values.title.length > 100) {\n            errors.title = 'title should be shorter than 100 characters';\n          }\n\n          if (!values.description) {\n            errors.description = 'description required';\n          } else if (values.description.length > 1000) {\n            errors.description = 'description should be shorter than 1000 characters';\n          }\n\n          return errors;\n        }}\n        onSubmit={(note, { setSubmitting }) => {\n          if (props.noteId) {\n            // if the component can receive a noteId, then we are modifying an existing note\n            updateNote({ ...note, userId: props.userId, noteId: props.noteId })\n              .then(() => { props.onSuccess(); setSubmitting(false);})\n              .catch(err => { props.onFailure(err); setSubmitting(false);})\n          } else {\n            // else, we are creating a new note\n            createNote({ ...note, userId: props.userId })\n            .then(() => { props.onSuccess(); setSubmitting(false);})\n            .catch(err => { props.onFailure(err); setSubmitting(false);})\n          }\n          \n            // .finally(() => { setSubmitting(false); });\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n          submitForm,\n          isValid,\n        }) => (\n            <form onSubmit={handleSubmit} className='inner_form'>\n              <Input\n                // style={inputStyle}\n                name=\"title\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.title}\n                placeholder='please insert title'\n              />\n              {errors.title && touched.title && <span style={{ ...tagStyle, top: '51px' }}>{errors.title}</span>}\n              <Input.TextArea\n                // style={inputStyle}\n                name=\"description\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                value={values.description}\n                placeholder='please insert description'\n              />\n              {errors.description && touched.description && <span style={{ ...tagStyle, top: '658px', width: '300px' }}>{errors.description}</span>}\n              <div style={{ display: 'flex', flexDirection: 'row-reverse' }}>\n                {props.noteId && \n                <Popconfirm title=\"Are you sure？\" okText=\"Yes\" cancelText=\"No\" onConfirm={onDelete}>\n                  <Button\n                    type='danger'\n                    onClick={() => {}}\n                    style={{ marginRight: '10px' }}\n                  >\n                    Delete\n                  </Button>\n                </Popconfirm>}\n                <Button\n                  onClick={() => submitForm()}\n                  type=\"primary\"\n                  style={{ marginRight: '10px' }}\n                  disabled={isSubmitting || (isEmpty(touched) && !props.noteId) || !isValid}\n                >\n                  {props.noteId? 'Update' : 'Save'}\n                </Button>\n                <Button\n                  onClick={() => props.onCancel()}\n                  style={{ marginRight: '10px' }}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </form>\n          )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default NoteForm;","import React, { Component } from 'react';\nimport './style/desktop.css';\nimport { getUserNotes } from '../client';\nimport { errorNotification, successNotification } from '../Notification';\nimport { Modal, Button, Icon } from 'antd';\nimport NoteForm from './NoteForm';\n\n\nclass Desktop extends Component {\n  constructor(props) {\n    console.log('desktop created')\n    super(props);\n    this.state = {\n      noteArray: [],\n      detailView: false,\n      targetNote: null\n    };\n  }\n\n  componentDidMount() {\n    this.fetchAllNotes(this.props.userId);\n  }\n\n  fetchAllNotes = (userId) => {\n    getUserNotes(userId)\n    .then((res) => {\n      return res.json();\n    })\n    .then((noteArray) => {\n      console.log(noteArray);\n      this.setState({ noteArray });\n    })\n    .catch(err => { errorNotification('error', err.error.message) });\n  }\n\n  renderNoteArray = (noteArray) => {\n    if (noteArray.length === 0) {\n      return <span className='chalkboard_font empty_msg'>No notes</span>\n    } else {\n      return noteArray.map((note) => {\n        return (\n          <div \n            note_id={note.noteId} \n            key={note.noteId} \n            onClick={this.openDetailView.bind(this, note.noteId)}\n            className='note_cell'\n          >\n            <div className='title'>{note.title}</div>\n            <div className='description'>{note.description}</div>\n          </div>\n        )\n      });\n    }\n  }\n\n  openDetailView = (noteId) => {\n    const target = this.getNoteInfoById(this.state.noteArray, noteId);\n    if (target) {\n      this.setState({\n        detailView: true,\n        targetNote: target\n      });\n    } else {\n      console.log('can not get note with id ' + noteId);\n    }\n  }\n\n  getNoteInfoById = (noteArray, noteId) => {\n    const target = noteArray.filter(o => o.noteId === noteId);\n    if (target.length > 0) return target[0];\n    return null;\n  }\n\n  onAddNewNote = () => {\n    this.setState({\n      target: null,\n      targetNote: null,\n      detailView: true,\n    });\n  }\n\n  render() {\n    const notes = this.renderNoteArray(this.state.noteArray);\n\n    return (\n      <div className='desktop'>\n        <Modal\n          visible={this.state.detailView}\n          footer={null}\n          closable={false}\n          width={600}\n          wrapClassName='node_modal'\n        >\n          <NoteForm \n            key={Math.random()}\n            title={this.state.targetNote ? this.state.targetNote.title : ''}\n            description={this.state.targetNote ? this.state.targetNote.description : ''}\n            userId={this.props.userId}\n            noteId={this.state.targetNote ? this.state.targetNote.noteId : ''}\n            onSuccess={() => {\n              this.fetchAllNotes(this.props.userId);\n              successNotification('Note updated');\n              this.setState({\n                detailView: false,\n                targetNote: null\n              });\n            }}\n            onFailure={(error) => {\n              errorNotification('Error')\n            }}\n            onDeleteSuccess={() => {\n              this.fetchAllNotes(this.props.userId);\n              this.setState({\n                detailView: false,\n                targetNote: null\n              });\n            }}\n            onCancel={() => {\n              this.setState({\n                detailView: false,\n                targetNote: null\n              });\n            }}\n          />\n        </Modal>\n        <h1 className='big_title'>Notes</h1>\n        <Button type='primary' onClick={() => this.onAddNewNote()}><Icon type=\"plus-circle\" />Add new note</Button>\n        <div className='note_container'>{notes}</div>\n        <Button type='primary' onClick={() => this.props.onLogout()}><Icon type=\"left\" />log out</Button>\n      </div>\n    );\n  }\n\n}\nexport default Desktop;","import React, { Component } from 'react';\nimport './style/index.css';\n// import {  } from 'antd';\nimport LoginForm from './LoginForm';\nimport { successNotification, errorNotification} from '../Notification';\nimport SignupForm from './SignupForm';\nimport Desktop from './Desktop';\n\nclass NoteManagement extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentStage: 'LOGIN',\n      userId: '',\n    };\n  }\n\n  componentDidMount() {\n\n  }\n\n  onLoginSucc = (o) => {\n    o.json().then((userInfo) => {\n\n      // store JWT as a cookie\n      document.cookie = `jwt_token=${userInfo.jwt}`;\n\n      // console.log(userInfo)\n      this.setState({ userId: userInfo.userId });\n      successNotification('Login successful', 'Welcom back');\n      this.switchToStage('DESKTOP')();\n    })\n    .catch(() => {errorNotification('Login failed', 'invalid user')});\n  }\n\n  onLoginFail = (e) => {\n    errorNotification('Login failed', e.error.message);\n  }\n\n  onSignupSucc = () => {\n    successNotification('Sign up successful', 'Please log in');\n    this.switchToStage('LOGIN')();\n  }\n\n  onSignupFail = (e) => {\n    console.log(e,e.error)\n    errorNotification('Sign up failed', e.error.message);\n  }\n\n  switchToStage = nextStage => () => {\n    this.setState({\n      currentStage: nextStage,\n    });\n  }\n\n  onLogout = () => {\n    this.setState({\n      currentStage: 'LOGIN',\n      userId: '',\n    });\n  }\n\n  render() {\n    return (\n      <div className='note_management'>\n        {this.state.currentStage === 'LOGIN' \n          && \n          <LoginForm \n            onSuccess={this.onLoginSucc} \n            onFailure={this.onLoginFail}\n            OnSitchToSignup={this.switchToStage('SIGNUP')}\n          />}\n\n        {this.state.currentStage === 'SIGNUP' \n          && \n          <SignupForm \n            onSuccess={this.onSignupSucc} \n            onFailure={this.onSignupFail}\n            OnSitchToLogin={this.switchToStage('LOGIN')}\n          />}\n        {this.state.currentStage === 'DESKTOP'\n         &&\n         <Desktop \n          userId={this.state.userId}\n          onLogout={this.onLogout}\n        />}\n      </div>\n    )\n  }\n}\n\nexport default NoteManagement;","import React from 'react';\n\nclass Square extends React.Component {\n\n  constructor() {\n    super();\n    this.degree = Math.floor(Math.random()*360);\n  }\n\n  render() {\n    let available = this.props.available;\n    let squareStyle = {};\n    if (available) {\n      squareStyle = 'square available';\n    } else if (this.props.chess_pieces === 'X') {\n      squareStyle = 'square head';\n    } else if (this.props.chess_pieces === 'O') {\n      squareStyle = 'square tail';\n    } else {\n      squareStyle = 'square';\n    }\n\n    return (\n      <button\n        className={squareStyle}\n        onClick={this.props.handleClick}\n      >\n        <div className='inner' style={{transform: `rotate(${this.degree}deg)`}}></div>\n      </button>\n    );\n\n\n  }\n}\n\nexport default Square;","import React from 'react';\nimport Square from './Square';\nimport config from './config.js';\n\nlet SIZE = config.size;\nif (SIZE < 8) {\n\tconsole.log('minium size is 8*8');\n\tSIZE = 8;\n}else if(SIZE > 16) {\n\tconsole.log('maximum size is 16*16');\n\tSIZE = 16;\n}\nif (SIZE%2 !== 0) {\n\tconsole.log('length must be even');\n\tSIZE++;\n}\n\ninterface PropsType {\n  currentState: Array<Array<string | null>>,\n  currentAvailabeState: Array<Array<string|null>>, // the positions that can land a piece\n  gameFinished: boolean, // is the game over\n  initialization: boolean, // is the game in the initial stage\n  number_of_O: number, // number of pieces of O(head)\n  number_of_X: number, // number of pieces of X(tail)\n  handleClick: Function, \n  handleModeSelection: Function,\n}\n\nclass Board extends React.Component<PropsType> {\n\n  renderSquare(i: number, j: number) {\n    return (\n      <Square \n        chess_pieces={this.props.currentState[i][j]} // the peice on that location\n        available={this.props.currentAvailabeState[i][j]} // is this position available\n        handleClick={() => this.props.handleClick(i,j)} \n        key={i*100+j}\n      />\n    );\n  }   \n\n  generateSquares(index: number) {\n    let row = [];\n    for(let i=0; i<=SIZE-1; i++) {\n      row.push(this.renderSquare(index,i));\n    }\n    return row;\n  }\n\n  generateRows() {\n    let rows = [];\n    for(let i=0; i<=SIZE-1; i++) {\n      rows.push(\n        <div className=\"board-row\" key={'R'+i}>\n          {this.generateSquares(i)}\n        </div>\n      );\n    }\n    return rows;\n  }\n\n  generateFinishPopup() {\n    const winner = this.props.number_of_O > this.props.number_of_X ? 'tail' : 'head';\n\n    return(\n      <div className=\"mask\">\n        <div className=\"finish_popup\">\n          <div className={winner}></div>\n          <span>{winner} is the winner!</span>\n        </div>\n      </div>\n    );\n  }\n\n  generateInitialPopup() {\n    return(\n      <div className=\"mask\">\n        <div className=\"finish_popup\">\n          <div className='selection' onClick={() => {this.props.handleModeSelection(true)}}>Single Player</div>\n          <div className='selection' onClick={() => {this.props.handleModeSelection(false)}}>Two Players</div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"board\">\n        {this.props.gameFinished && this.generateFinishPopup()}\n        {this.props.initialization && this.generateInitialPopup()}\n        {this.generateRows()}\n      </div>\n    );\n  }\n}\n\nexport default Board;","import React from 'react';\n\nclass Scores extends React.Component {\n\n  generateCoin (type, n) {\n    const klass = type === 'X' ? 'head' : 'tail';\n    const r = [];\n    let bottom = 60;\n\n    while (n > 0) {\n        r.push(<div className={klass} style={{bottom: bottom + 'px'}} key={bottom}/>);\n        bottom += 10;\n        n--;\n    }\n    return r;\n  }\n\n  render() {\n    const xNumber = this.props.x_number;\n    const oNumber = this.props.o_number;\n\n    return (\n        <div className='scores'>\n            <div style={{ height: '100%', width: '50%'}}>\n                {this.generateCoin('X', xNumber)}\n                <div style={{position: 'absolute', bottom: '0px', width: '80px', textAlign: 'center'}}>{xNumber}</div>\n            </div>\n            <div style={{ height: '100%', width: '50%'}}>\n                {this.generateCoin('O', oNumber)}\n                <div style={{position: 'absolute', bottom: '0px', width: '80px', textAlign: 'center'}}>{oNumber}</div>\n            </div>\n        </div>\n    );\n\n\n  }\n}\n\nexport default Scores;","const m:{ [key: string]: string; } = {\n    'X': 'O',\n    'O': 'X',\n    'head': 'tail',\n    'tail': 'head',\n}\nexport const getRival = (player: string) => {\n    return m[player];\n}","import config from './config.js';\nimport { getRival } from './util';\n\ntype coor = Array<number>; \n\nlet SIZE = config.size;\nif (SIZE < 8) {\n  console.log('最小尺寸为8*8');\n  SIZE = 8;\n} else if (SIZE > 16) {\n  console.log('最大尺寸为16*16');\n  SIZE = 16;\n}\nif (SIZE % 2 !== 0) {\n  console.log('期盼尺寸必须为偶数');\n  SIZE++;\n}\n\nconst dirs = [[0, 1], [0, -1], [1, 0], [-1, 0], [1, 1], [1, -1], [-1, 1], [-1, -1]];\n\nexport const isInBoundary = (o: Array<number>) => {\n\tif (o[0] < 0 || o[0] >= SIZE) return false;\n\tif (o[1] < 0 || o[1] >= SIZE) return false;\n\treturn true;\n}\n\nvar Search = {\n\t// search for the pieces that can be reversed by current move\n  SearchForReversiblePieces: (x: number, y: number, opponent: string, currentState: Array<Array<string|null>>) => {\n    const finalResult: Array<coor> = [];\n    const initialTarget = [x, y];\n    const friendly = getRival(opponent);\n  \n    for (let dir of dirs) {\n      const target = [...initialTarget];\n      const reversibles: Array<coor> = [];\n      const temp = [];\n      target[0] += dir[0];\n      target[1] += dir[1];\n  \n      while (isInBoundary(target)) {\n        // console.log(target)\n        if (currentState[target[0]][target[1]] === null) {\n          break;\n        } else if (currentState[target[0]][target[1]] === friendly) {\n          reversibles.splice(reversibles.length, 0, ...temp);\n          break;\n        } else {\n          // encounter a opponent's piece\n          // console.log('target', target)\n          temp.push([...target]);\n        }\n        target[0] += dir[0];\n        target[1] += dir[1];\n      }\n  \n      finalResult.splice(finalResult.length, 0, ...reversibles);\n    }\n    return finalResult;\n  },\n\n\tsearchAvailable:function(opponent: string, currentState: Array<Array<string|null>>){//搜索全部的方格，找出其中可以落子方格。\n// console.log('searchAvailable', opponent)\n\t\tlet noMoreMove = true;\n\n\t\tlet temp = Array(SIZE).fill(null);\n\t  \tlet availableState = [];\n\t  \tfor (let i=0; i<=SIZE-1; i++){\n\t  \t\tavailableState[i] = temp.slice(0);\n\t  \t}\n\n\t\tfor (let i = SIZE - 1; i >= 0; i--) {\n\t\t\tfor (let j = SIZE - 1; j >= 0; j--) {\n        let result = this.SearchForReversiblePieces(i,j,opponent,currentState);\n        if (result.length > 0 && !currentState[i][j]) {\n          availableState[i][j] = true;\n\t\t\t\t\tnoMoreMove = false;\n        }\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\tavailableState: availableState,\n\t\t\tnoMoreMove: noMoreMove\n\t\t};\n\t},\n\n\tCaculatePoints:function(currentState: Array<Array<string|null>>){\n\t\tlet points = {\n\t\t\tX: 0,\n\t\t\tO: 0\n\t\t};\n\n\t\tfor (let i = SIZE - 1; i >= 0; i--) {\n\t\t\tfor (let j = SIZE - 1; j >= 0; j--) {\n\t\t\t\tif(currentState[i][j]==='X'){ points.X++; }\n\t\t\t\tif(currentState[i][j]==='O'){ points.O++; }\n\t\t\t};\n\t\t};\n\n\t\treturn points;\n\t}, \n};\n\nexport default Search; ","import config from './config.js';\nimport { getRival } from './util';\nimport Search from './search';\n\ntype coor = Array<number>;\n\nlet SIZE = config.size;\nif (SIZE < 8) {\n  console.log('最小尺寸为8*8');\n  SIZE = 8;\n} else if (SIZE > 16) {\n  console.log('最大尺寸为16*16');\n  SIZE = 16;\n}\nif (SIZE % 2 !== 0) {\n  console.log('期盼尺寸必须为偶数');\n  SIZE++;\n}\n\nexport const pickLocation = (opponent: string, currentState: Array<Array<string | null>>) => {\n  const possibleMoves: Array<{value: number, pos: coor}> = [];\n  let maxValue: number = 0;\n  let finalMove: coor|null= null;\n\n\n  for (let i = SIZE - 1; i >= 0; i--) {\n    for (let j = SIZE - 1; j >= 0; j--) {\n      let result = Search.SearchForReversiblePieces(i, j, opponent, currentState);\n      if (result.length > 0 && !currentState[i][j]) {\n        let value = result.length;\n\n        if (atCorner(i, j)) {\n          value = Infinity;\n        } else if (atEdge(i, j)){\n          value = value * 2;\n        }\n\n        if (value > maxValue) {\n          finalMove = [i, j];\n          maxValue = value;\n        }\n\n        possibleMoves.push({\n          pos: [i, j],\n          value: value,\n        });\n      }\n    };\n  };\n  // console.log(possibleMoves);\n  return finalMove;\n}\n\nconst atCorner = (x: number, y: number) => {\n  if (x === 0 && y === 0) return true;\n  if (x === 0 && y === SIZE-1) return true;\n  if (x === SIZE-1 && y === 0) return true;\n  if (x === SIZE-1 && y === SIZE-1) return true;\n  return false;\n}\n\nconst atEdge = (x: number, y: number) => {\n  if (x === 0) return true;\n  if (x === SIZE-1) return true;\n  if (y === 0) return true;\n  if (y === SIZE-1) return true;\n  return false;\n}","\nimport React from 'react';\nimport './style/game.scss';\nimport Board from './Board.tsx';\nimport Scores from './Scores.jsx';\nimport Search from './search';\nimport config from './config.js';\nimport { pickLocation } from './auto';\nimport { getRival } from './util';\n\nlet SIZE = config.size;\nif (SIZE < 8) {\n\tconsole.log('minium size is 8*8');\n\tSIZE = 8;\n}else if(SIZE > 16) {\n\tconsole.log('maximum size is 16*16');\n\tSIZE = 16;\n}\nif (SIZE%2 !== 0) {\n\tconsole.log('length must be even');\n\tSIZE++;\n}\n\nclass Game extends React.Component {\n  initialCurrentState() {\n  \tlet temp = Array(SIZE).fill(null);\n  \tlet board = [];\n  \tfor (let i=0; i<=SIZE-1; i++){\n  \t\tboard[i] = temp.slice(0);\n  \t}\n  \t// initialize 4 pieces (X is head)\n    board[SIZE/2 - 1][SIZE/2 - 1] = 'X';\n    board[SIZE/2 - 1][SIZE/2] = 'O';\n    board[SIZE/2][SIZE/2 - 1] = 'O';\n    board[SIZE/2][SIZE/2] = 'X'; \n\n    // board[7][7] = 'O';\n    // board[0][0] = 'X';\n    // board[0][1] = 'O';\n    // board[0][7] = 'X';\n    // board[1][7] = 'O';\n    // board[0][2] = 'O';\n    // board[7][6] = 'X';\n    return board;\n  }\n\n  initialCurrentAvailabeState(initialBoard) {\n    let temp = Array(SIZE).fill(null);\n  \tlet board = [];\n  \tfor (let i=0; i<=SIZE-1; i++){\n  \t\tboard[i] = temp.slice(0);\n  \t}\n\n    const { availableState } = Search.searchAvailable('X', initialBoard);\n    for (let i = 0; i <= SIZE-1; i++) {\n      for (let j = 0; j <= SIZE-1; j++) {\n        if (availableState[i][j]) board[i][j] = true;\n      }\n    }\n\n    return board;\n  }\n\n  constructor(props) {\n    super(props);\n    const initialBoard = this.initialCurrentState();\n    this.state = {\n      _initialization: true,\n      _single: true,\n      _currentState: initialBoard, // current location\n      _currentAvailabeState: this.initialCurrentAvailabeState(initialBoard), // available locations\n      _isForX: false, // is current piece a X? \n      _numberO: 2, // the number of Os\n      _numberX: 2, // the number of Xs\n      _gameFinished: false,\n      _doubleMove: false\n    };\n  }\n\n  handleClick(x,y) { \n    // cannot place a piece on another one\n    if (this.state._currentState[x][y]){\n      console.log('occupied!');\n      return false;\n    } else if(this.state._gameFinished){\n      // cannot place a piece outside available zone\n      console.log('game is over!');\n      return false;\n    } else if(this.state._isForX && this.state._single) {\n      // in single mode, human player is (O)tail\n      console.log('not your turn!');\n      return false;\n    }\n    if (this.state._currentAvailabeState[x][y]) this.land(x, y, this.state._single); \n  }\n  // put down a piece and change state\n  land (x, y, autoMove) {\n    let currentToken = this.state._isForX? 'X' : 'O';\n    let opponent = this.state._isForX? 'O':'X';\n    let tempState = this.state._currentState; // copy current board\n    let result = {};\n    let nextPlayersMoves = {};\n    let points = {};\n    let finishOrNot = false;\n\n    result = Search.SearchForReversiblePieces(x, y, opponent, tempState);\n    // change board state, record the current move\n    tempState[x][y] = currentToken;\n\n    // change board state, reverse opponent's pieces\n    for (let i = result.length - 1; i >= 0; i--) {\n      let temp_x = result[i][0];\n      let temp_y = result[i][1];\n      tempState[temp_x][temp_y] = currentToken;\n    };\n\n    // calculate the available locations for next player\n    nextPlayersMoves = Search.searchAvailable(currentToken, tempState);\n    // count piece numbers\n    points = Search.CaculatePoints(tempState);\n\n    // inverse side\n    let isXNext = !this.state._isForX;\n    let nextPlayersAvailabeState = nextPlayersMoves.availableState;\n    let doubleMove = false;\n\n    // check finish\n    if( (points.X + points.O) === 64){\n      // board full\n      finishOrNot = true;\n      autoMove = false;\n    } else if( nextPlayersMoves.noMoreMove ){\n      const currentPlayersMoves = Search.searchAvailable(getRival(currentToken), tempState);\n      if (currentPlayersMoves.noMoreMove) {\n        // both player cannot make any move, game over\n        finishOrNot = true;\n        autoMove = false;\n      } else {\n        // player 1 make a move, player 2 cannot move, but player 1 can move again\n        if (this.state._single) {\n          if (this.state._isForX) {\n            console.log('computer double move')\n            autoMove = true;\n            isXNext = this.state._isForX;\n            nextPlayersAvailabeState = currentPlayersMoves.availableState;\n            doubleMove = true;\n          } else {\n            console.log('human double move');\n            autoMove = false;\n            isXNext = this.state._isForX;\n            nextPlayersAvailabeState = currentPlayersMoves.availableState;\n            doubleMove = true;\n          }\n        } else {\n          isXNext = this.state._isForX;\n          nextPlayersAvailabeState = currentPlayersMoves.availableState;\n          doubleMove = true;\n        }\n      }\n    }\n\n    if (autoMove) {\n      const p = new Promise((resolve, reject) => {\n        setTimeout(() => resolve(), 1000);\n      });\n      p.then(()=>{\n        this.computerMove();\n      });\n    }\n\n\n    // change state\n    this.setState({\n      _currentState: tempState,\n      _currentAvailabeState: nextPlayersAvailabeState,\n      _isForX: isXNext,\n      _numberO: points.O,\n      _numberX: points.X,\n      _gameFinished: finishOrNot,\n      _doubleMove: doubleMove,\n    });\n  }\n\n  clearBoard(){\n    let tempState = this.initialCurrentState();\n    let tempAvailabe = this.initialCurrentAvailabeState(tempState);\n\n    this.setState({\n      _initialization: true,\n      _single: true,\n      _currentState: tempState,\n      _currentAvailabeState: tempAvailabe,\n      _isForX: false,\n      _numberO: 2,\n      _numberX: 2,\n      _gameFinished: false\n    });\n  }\n\n  handleModeSelection = (single) => {\n    this.setState({\n      _single: single,\n      _initialization: false,\n    });\n  }\n\n  computerMove() {\n    const pos = pickLocation('O', this.state._currentState);\n    this.land(pos[0], pos[1], false);\n  }\n\n  render() {\n    let nextPlayer = \"\";\n    let status = \"\";\n\n    if (this.state._gameFinished){\n      if (this.state._numberO > this.state._numberX){\n        status = \"winner is tail!\";\n      } else if ( this.state._numberO < this.state._numberX ){\n        status = \"winner is head!\";\n      } else {\n        status = \"want a second round?\";\n      }\n    } else if (this.state._doubleMove) {\n      const doubleMovePlayer = this.state._isForX? \"head\" : \"tail\";\n      const theOther = this.state._isForX? \"tail\" : \"head\";\n      status = `${theOther} has no moves, so ${doubleMovePlayer} moves again.`;\n    } else{\n      nextPlayer = this.state._isForX? \"head\" : \"tail\";\n      status = \"Current player: \" + nextPlayer;\n    }\n\n    ///////test////////////////////////////////////\n    window.move = () => {\n      const pos = pickLocation('O', this.state._currentState);\n      this.land(pos[0], pos[1], false);\n    }\n\n    ///////////////////////////////////////////////\n\n    return (\n      <React.Fragment>\n        <div className=\"status white_font\" >\n          If you play alone, you play as tail and you move first, computer play as head.\n        </div>\n        <div className=\"game\">\n          <div className=\"game-board\">\n            <div className=\"status white_font\" style={{display: 'inline-block'}}>{status}</div>\n            <span className={this.state._isForX? 'coin_icon head' : 'coin_icon tail'}></span>\n            <Board \n              initialization = {this.state._initialization}\n              currentState={this.state._currentState} \n              currentAvailabeState={this.state._currentAvailabeState}\n              gameFinished = {this.state._gameFinished}  \n              number_of_O = {this.state._numberO}\n              number_of_X = {this.state._numberX}   \n              handleClick={(i,j) => this.handleClick(i,j)}\n              handleModeSelection={this.handleModeSelection} \n            />\n            <Scores x_number={this.state._numberX} o_number={this.state._numberO} />\n            <div className=\"status white_font\">number of \"tail\"s: {this.state._numberO}</div>\n            <div className=\"status white_font\">number of \"head\"s: {this.state._numberX}</div>\n          </div>\n          <button className='clear' onClick={() => this.clearBoard()}>RESET</button>\n        </div>\n      </React.Fragment>\n    );\n  }\n};\n\nexport default Game; ","import React, { Component } from 'react';\nimport './main.css';\nimport NoteManagement from '../noteManagement/index.jsx';\nimport Game from '../game/Game.jsx';\nimport { Carousel, Icon } from 'antd';\n\n\nclass Main extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      mouseOverSlide: false,\n    };\n    this.carousel = React.createRef();\n  }\n\n  componentDidMount() {\n\n  }\n\n  next = () => {\n    this.carousel.next();\n  }\n  previous = () => {\n    this.carousel.prev();\n  }\n\n  sliderEnter = () => {\n    this.setState({mouseOverSlide: true});\n  }\n\n  sliderLeave = () => {\n    this.setState({mouseOverSlide: false});\n  }\n\n  render () {\n    return (\n      <div className='main'>\n        <h1 className='white_font' \n          style={{textAlign: 'center', marginTop: '40px', marginBottom: '0px', fontSize: '50px'}}>\n            Hello, my name is Huan.\n        </h1>\n        <h1 className='white_font' \n          style={{textAlign: 'center', fontSize: '50px'}}>\n            I am a programmer.\n        </h1>\n        <h1 className='white_font' style={{marginBottom: '0px'}}>ABOUT ME</h1>\n        <hr className='line'/>\n        <p className='white_font'>\n          I am a master’s student in computer science at Tufts and am very passionate in applying\n          programing skills to create better experience for users. This semester, I am building a\n          mobile attendance system for faculties based on android system.I have 2-year full time \n          working experience as a front-end engineer before joining Tufts\n          this year. I have tackled complex technical problems and demonstrated strong programming \n          skills at Lenovo and GrowingIO.\n        </p>\n\n        <h1 className='white_font' style={{marginBottom: '0px'}}>PROJECTS</h1>\n        <hr className='line'/>\n\n        <h1 className='white_font'>1. GrowingIO.com</h1>\n        <div className='slider' onMouseEnter={this.sliderEnter} onMouseLeave={this.sliderLeave}>\n          <Carousel ref={node => (this.carousel = node)}>\n            <div className='p0 img'></div>\n            <div className='p1 img'></div>\n            <div className='p2 img'></div>\n            <div className='p3 img'></div>\n            <div className='p4 img'></div>\n          </Carousel>\n          <div className={this.state.mouseOverSlide? 'arrowLeft' : 'arrowLeft hide'} onClick={this.previous}>\n            <Icon type=\"left\" style={{ fontSize: 32, marginTop: '12px', marginLeft: '5px', color: 'white' }}/>\n          </div>\n          <div className={this.state.mouseOverSlide? 'arrowRight' : 'arrowRight hide'} onClick={this.next}>\n            <Icon type=\"right\" style={{ fontSize: 32, marginTop: '12px', marginLeft: '5px', color: 'white' }}/>\n          </div>\n        </div>\n        <h2 className='white_font'>About this project</h2>\n        <hr className='line'/>\n        <p className='white_font'>\n          GrowingIO is a leading analytic platform provider in China. They help customer track data, building \n          dashboard and drive quick insights. I was part of the platform team and our goal is to ensure that \n          users (enterprise user) can manage their data easily.&nbsp;&nbsp;\n          <a className='info_link' href='https://www.growingio.com/'>Visit this site</a><br/>\n          My role in the team:<br/>\n        </p>\n          <ul className='list'>\n            <li>Designed a new data management module.</li>\n            <li>Refactored old react components to improve cohesion</li>\n            <li>Developed a react component library for company’s common components.</li>\n          </ul>\n        <h2 className='white_font' style={{marginBottom: '0px'}}>Technical Sheet</h2>\n        <p className='white_font'>Code technologies involved while developing this project.</p>\n        <hr className='line'/>\n        <ul className='list'>\n          <li>React</li>\n          <li>Redux</li>\n          <li>RxJS</li>\n          <li>Node.js</li>\n          <li>Javascript ES6 & Typescript</li>\n          <li>CSS3 & less</li>\n          <li>Webpack</li>\n        </ul>\n        \n\n        <h1 className='white_font'>2. Chalkboard Note</h1>\n        <NoteManagement></NoteManagement>\n        <h2 className='white_font'>About this project</h2>\n        <hr className='line'/>\n        <p className='white_font'>\n          This is a online note management app, you can create, store and modify your notes.<br />\n          There is a default account with some existing notes, name: guest, password: 123.<br />\n        </p>\n        <h2 className='white_font' style={{marginBottom: '0px'}}>Technical Sheet</h2>\n        <p className='white_font'>Code technologies involved while developing this project.</p>\n        <hr className='line'/>\n        <ul className='list'>\n          <li>React</li>\n          <li>Javascript ES6</li>\n          <li>CSS3</li>\n          <li>Spring Boot</li>\n          <li>PostgreSQL</li>\n          <li>Docker</li>\n          <li>AWS</li>\n        </ul>\n\n        <h1 className='white_font'>3. Reversi Game</h1>\n        <Game></Game>\n        <h2 className='white_font'>About this project</h2>\n        <hr className='line'/>\n        <p className='white_font'>\n          This is a little game like Reversi. Players take turns placing disks on the board \n          with their assigned color facing up. During a play, any disks of the opponent's color\n          that are in a straight line and bounded by the disk just placed and another disk of the \n          current player's color are turned over to the current player's color.\n          The object of the game is to have the majority of disks turned to display your color when \n          the last playable empty square is filled.&nbsp;&nbsp;\n          <a className='info_link' href='https://en.wikipedia.org/wiki/Reversi'>What is Reversi?</a>\n        </p>\n        <h2 className='white_font' style={{marginBottom: '0px'}}>Technical Sheet</h2>\n        <p className='white_font'>Code technologies involved while developing this project.</p>\n        <hr className='line'/>\n        <ul className='list'>\n          <li>React</li>\n          <li>Javascript ES6</li>\n          <li>CSS3</li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Main;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport Main from './main/Main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Main />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = {\n\tsize: 8\n}"],"sourceRoot":""}